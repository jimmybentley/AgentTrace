# AgentTrace Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# Database Configuration
# =============================================================================

# PostgreSQL connection URL
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://agenttrace:dev_password@localhost:5432/agenttrace

# Database password (used by docker-compose)
DB_PASSWORD=dev_password

# Connection pool settings
POOL_SIZE=20
POOL_MAX_OVERFLOW=10
POOL_TIMEOUT=30
POOL_RECYCLE=3600

# =============================================================================
# Ingestion Service Configuration
# =============================================================================

# OTLP HTTP endpoint port
OTLP_HTTP_PORT=4318

# Batch processing settings
BATCH_SIZE=100
BATCH_TIMEOUT_MS=5000

# Maximum message size (bytes)
MAX_MESSAGE_SIZE=10485760

# =============================================================================
# Analysis API Configuration
# =============================================================================

# API server port
API_PORT=8000

# CORS origins (comma-separated list)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# API rate limiting (requests per minute)
RATE_LIMIT=1000

# =============================================================================
# Web UI Configuration
# =============================================================================

# API base URL for the frontend
VITE_API_URL=http://localhost:8000

# Web UI port (when running with npm run dev)
WEB_PORT=5173

# =============================================================================
# SDK Client Configuration (for applications using AgentTrace SDK)
# =============================================================================

# AgentTrace ingestion endpoint
AGENTTRACE_ENDPOINT=http://localhost:4318

# Service name for your application
AGENTTRACE_SERVICE_NAME=my-agent-app

# Enable/disable tracing
AGENTTRACE_ENABLED=true

# Debug mode (verbose logging)
AGENTTRACE_DEBUG=false

# Framework identifier (custom, langgraph, autogen, crewai)
AGENTTRACE_FRAMEWORK=custom

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json, text
LOG_FORMAT=json

# Enable access logs
ACCESS_LOG_ENABLED=true

# =============================================================================
# Monitoring Configuration
# =============================================================================

# Enable Prometheus metrics endpoint
PROMETHEUS_ENABLED=true

# Metrics port
METRICS_PORT=9090

# Enable health check endpoints
HEALTH_CHECK_ENABLED=true

# =============================================================================
# Security Configuration
# =============================================================================

# Secret key for JWT tokens (future feature)
SECRET_KEY=change-me-in-production

# Enable authentication (future feature)
AUTH_ENABLED=false

# Allowed API keys (comma-separated, future feature)
API_KEYS=

# =============================================================================
# Performance Configuration
# =============================================================================

# Number of uvicorn workers
WORKERS=4

# Worker timeout (seconds)
WORKER_TIMEOUT=30

# Maximum number of concurrent requests
MAX_CONCURRENT_REQUESTS=1000

# =============================================================================
# Data Retention Configuration
# =============================================================================

# Retention period for traces (days)
TRACE_RETENTION_DAYS=30

# Retention period for spans (days)
SPAN_RETENTION_DAYS=30

# Retention period for checkpoints (days)
CHECKPOINT_RETENTION_DAYS=7

# Enable automatic cleanup
AUTO_CLEANUP_ENABLED=true

# Cleanup schedule (cron format)
CLEANUP_SCHEDULE=0 2 * * *

# =============================================================================
# Development Configuration
# =============================================================================

# Enable debug mode
DEBUG=false

# Enable hot reload
RELOAD=true

# Enable SQL query logging
SQL_ECHO=false

# Enable detailed error messages
DETAILED_ERRORS=true

# =============================================================================
# Docker Compose Configuration
# =============================================================================

# Compose project name
COMPOSE_PROJECT_NAME=agenttrace

# Build arguments
BUILD_TARGET=production

# =============================================================================
# Optional: External Services
# =============================================================================

# Redis URL (future feature for caching)
# REDIS_URL=redis://localhost:6379/0

# S3 bucket for backups (future feature)
# S3_BUCKET=agenttrace-backups
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1

# Sentry DSN for error tracking (future feature)
# SENTRY_DSN=https://your-sentry-dsn

# Slack webhook for alerts (future feature)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url
